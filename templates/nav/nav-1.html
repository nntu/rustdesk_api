<!-- Stylesheet được cung cấp bởi CSS tĩnh trong head của trang chủ -->

<div class="nav1-section-title">Tổng quan</div>
<div class="nav1-stats">
    <div class="nav1-card">
        <div class="nav1-card-title">Số người dùng</div>
        <div class="nav1-card-value">{{ user_count|default:0 }}</div>
    </div>
    <div class="nav1-card">
        <div class="nav1-card-title">Số thiết bị</div>
        <div class="nav1-card-value">{{ device_count|default:0 }}</div>
    </div>
    {# Có thể mở rộng thêm thẻ thống kê như số thiết bị trực tuyến, số nhóm, v.v. #}
</div>

<div class="nav1-section-title">Danh sách thiết bị</div>
{% if devices %}
    <div class="x-scroll-container">
        <table class="nav1-table resizable-table" aria-label="Danh sách thiết bị" data-table-id="nav1-devices">
        <thead>
        <tr>
            <th data-col-key="idx" style="width: 40px;">STT</th>
            <th data-col-key="peer_id" style="width: 100px;">ID thiết bị</th>
            <th data-col-key="device_name" style="width: 160px;">Tên thiết bị</th>
            <th data-col-key="os" style="width: 120px;">Hệ điều hành</th>
            <th data-col-key="version" style="width: 120px;">Phiên bản</th>
            <th data-col-key="created_at" style="width: 180px;">Thời gian tạo</th>
        </tr>
        </thead>
        <tbody>
        {% for d in devices %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ d.peer_id }}</td>
                <td>{{ d.device_name }}</td>
                <td>{{ d.os }}</td>
                <td>{{ d.version }}</td>
                <td>{{ d.created_at|date:"Y-m-d H:i:s" }}</td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
    </div>
    <div class="nav1-pagination" style="display:flex;align-items:center;gap:10px;margin-top:12px;">
        <button class="nav1-page-btn" data-key="nav-1"
                {% if page_obj.has_previous %}data-page="{{ page_obj.previous_page_number }}"{% else %}data-page=""
                disabled{% endif %}>Trang trước
        </button>
        <span style="color:#6a737d;">Trang {{ page_obj.number }} / {{ paginator.num_pages }} (tổng {{ paginator.count }})</span>
        <button class="nav1-page-btn" data-key="nav-1"
                {% if page_obj.has_next %}data-page="{{ page_obj.next_page_number }}"{% else %}data-page=""
                disabled{% endif %}>Trang sau
        </button>
    </div>
{% else %}
    <div class="nav1-empty">Chưa có dữ liệu thiết bị</div>
{% endif %}


